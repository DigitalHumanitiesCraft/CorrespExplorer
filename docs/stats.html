<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Statistische Analysen der 448 Frauen in Goethes Briefkorrespondenz">
    <title>Statistik - HerData</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">

    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/search.css">
    <link rel="stylesheet" href="css/stats.css">
</head>
<body>
    <!-- Global Navigation Placeholder -->
    <div id="navbar-placeholder"></div>

    <!-- Main Dashboard Container -->
    <div class="stats-page">
        <header class="stats-header">
            <div class="stats-header-content">
                <h1>Brief-Explorer</h1>
                <p class="stats-subtitle">Interaktive Analyse der 448 Frauen im Goethe-Netzwerk</p>
            </div>
        </header>

        <main class="explorer-container">
            <!-- Master Timeline (Full Width) -->
            <section class="explorer-timeline">
                <div class="timeline-header">
                    <h2>Zeitfilter</h2>
                    <div class="timeline-mode-toggle">
                        <button class="mode-btn active" data-mode="correspondence">Korrespondenz (1762-1824)</button>
                        <button class="mode-btn" data-mode="lifespan">Lebensdaten (1700-1850)</button>
                    </div>
                </div>
                <div class="timeline-body">
                    <div id="master-timeline" class="timeline-chart"></div>
                    <div class="timeline-info">
                        <span id="timeline-selection">Gesamter Zeitraum ausgew채hlt</span>
                        <button id="reset-timeline" class="btn-reset">Zur체cksetzen</button>
                    </div>
                </div>
            </section>

            <!-- 2x2 Grid for Charts -->
            <div class="explorer-grid">
                <!-- Chart 1: Berufsverteilung -->
                <section class="explorer-card">
                    <div class="explorer-card-header">
                        <h2>Berufsverteilung</h2>
                        <div class="explorer-card-actions">
                            <button class="btn-export" data-export="occupations" data-format="csv" aria-label="Als CSV exportieren">CSV</button>
                            <button class="btn-export" data-export="occupations" data-format="png" aria-label="Als PNG exportieren">PNG</button>
                        </div>
                    </div>
                    <div class="explorer-card-body">
                        <div id="chart-occupations" class="chart-container"></div>
                        <p class="chart-note"><span id="note-occupations">207 von 448 Frauen (46%) haben Berufsangaben</span></p>
                    </div>
                </section>

                <!-- Chart 2: Geografische Zentren -->
                <section class="explorer-card">
                    <div class="explorer-card-header">
                        <h2>Geografische Zentren</h2>
                        <div class="explorer-card-actions">
                            <button class="btn-export" data-export="places" data-format="csv" aria-label="Als CSV exportieren">CSV</button>
                            <button class="btn-export" data-export="places" data-format="png" aria-label="Als PNG exportieren">PNG</button>
                        </div>
                    </div>
                    <div class="explorer-card-body">
                        <div id="chart-places" class="chart-container"></div>
                        <p class="chart-note"><span id="note-places">227 Frauen mit Ortsangaben (171 verschiedene Orte)</span></p>
                    </div>
                </section>

                <!-- Chart 3: Generationen -->
                <section class="explorer-card">
                    <div class="explorer-card-header">
                        <h2>Generationen</h2>
                        <div class="explorer-card-actions">
                            <button class="btn-export" data-export="cohorts" data-format="csv" aria-label="Als CSV exportieren">CSV</button>
                            <button class="btn-export" data-export="cohorts" data-format="png" aria-label="Als PNG exportieren">PNG</button>
                        </div>
                    </div>
                    <div class="explorer-card-body">
                        <div id="chart-cohorts" class="chart-container"></div>
                        <p class="chart-note"><span id="note-cohorts">407 Frauen mit Lebensdaten</span></p>
                    </div>
                </section>

                <!-- Chart 4: Briefaktivit채t -->
                <section class="explorer-card">
                    <div class="explorer-card-header">
                        <h2>Briefaktivit채t</h2>
                        <div class="explorer-card-actions">
                            <button class="btn-export" data-export="activity" data-format="csv" aria-label="Als CSV exportieren">CSV</button>
                            <button class="btn-export" data-export="activity" data-format="png" aria-label="Als PNG exportieren">PNG</button>
                        </div>
                    </div>
                    <div class="explorer-card-body">
                        <div id="chart-activity" class="chart-container"></div>
                        <p class="chart-note"><span id="note-activity">Verteilung nach Rolle</span></p>
                    </div>
                </section>
            </div>
        </main>

        <footer class="stats-footer">
            <p>Datenstand: SNDB Oktober 2025 | 448 Frauen | 15.312 Briefe</p>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"></script>
    <script src="js/stats.js" type="module"></script>
</body>
</html>
